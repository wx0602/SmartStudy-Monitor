# B
EAR_CLOSED_RATIO: 0.45        # ear_ratio < 该值判闭眼
EAR_HALF_RATIO: 0.70          # ear_ratio < 该值判半睁（否则睁眼）

SLEEPY_TIME: 2.0              # 连续闭眼超过该秒数判打瞌睡

YAW_THRESHOLD: 30.0           # |yaw_angle| 超过该角度判偏头/分心

PITCH_DOWN_THRESHOLD: 12.0    # 低头阈值（度）
PITCH_UP_THRESHOLD: 12.0      # 抬头阈值（度）

PITCH_DOWN_SIGN: 1            # pitch方向统一：确保“低头为正”（不对就改-1）

WINDOW_TIME: 1.2              # 统计/平滑时间窗口长度（秒）

POSE_HOLD_TIME: 0.4           # 偏头/低头/抬头持续超过该秒数才触发（防闪）

ATTN_BAD_THRESHOLD: 60        # UI标红阈值（attention_score低于它标红）

FOCAL_SCALE: 1.2              # 相机焦距缩放（影响姿态角度幅度）

MIN_EYE_DIST: 25.0            # 眼角距离过小（脸太远）则不更新姿态

REPROJ_ERR_MAX: 20.0          # 重投影误差上限（超过则丢弃该帧姿态）

MAX_POSE_JUMP: 12.0           # 单帧yaw/pitch最大跳变限制（防爆点）

BLINK_MIN_SEC: 0.20           # 短眨眼阈值（小于它不计入PERCLOS）

SCORE_EMA_ALPHA: 0.25         # 注意力分数EMA平滑系数（大更灵敏，小更稳定）

W_EYE: 0.55                   # PERCLOS(疲劳)扣分权重
W_AWAY: 0.20                  # 偏头窗口比例扣分权重
W_DOWN: 0.15                  # 低头窗口比例扣分权重
W_UP: 0.05                    # 抬头窗口比例扣分权重
W_NOFACE: 0.25                # no_face窗口比例扣分权重
W_UNSTB: 0.05                 # 姿态不稳定(抖动)扣分权重

YAW_STD_NORM: 8.0             # yaw标准差归一化尺度（越小越容易判不稳）
PITCH_STD_NORM: 10.0          # pitch标准差归一化尺度（越小越容易判不稳）

CALIB_REPROJ_ERR_MAX: 20.0    # 校准阶段重投影误差上限（更严格防污染）

NOFACE_GRACE_SEC: 0.4         # no_face宽限时间（短遮挡不立刻计入/触发）

GAZE_X_THRESHOLD: 0.55        # gaze_x偏离阈值（左右）
GAZE_Y_THRESHOLD: 0.65        # gaze_y偏离阈值（上下）
GAZE_HOLD_TIME: 0.50          # gaze_off持续超过该秒数才触发（防闪）
W_GAZE: 0.08                  # gaze窗口比例扣分权重

# C
hand:
  face_distance: 0.15          # 手-脸距离阈值（摸脸/托腮）
  head_distance: 0.20          # 手-头距离阈值（扶额）
  touch_time_threshold: 2.0    # 持续摸脸时间（秒）
  head_time_threshold: 3.0     # 持续撑头时间（秒）
  smoothing_alpha: 0.4         # EMA 平滑系数（0~1，越大反应越快）
  contact_grace: 0.25          # 触碰短时断续容错时间（秒）
  forehead_offset_y: 0.02      # 额头点相对眼睛中心的上移量
  mouth_offset_y: 0.0          # 口部中心的微调量
  cheek_offset_x: 0.03         # 托腮需相对鼻子有一定水平偏移
  face_hysteresis_frames: 7    # 近N帧多数决窗口（抑制抖动）
  face_required_ratio: 0.6     # 多数决通过比例

seat:
  offset_threshold: 0.4        # 上半身偏离阈值（归一化坐标）
  miss_frame_threshold: 5      # 姿态丢失帧数阈值

phone:
  yolo_confidence: 0.4         # YOLO 检测置信度阈值（0-1，提高以减少误检）
  detection_interval: 3        # 每 N 帧检测一次（平衡性能与实时性）
  detection_window_size: 10    # 滑动窗口大小（用于连续性判断）
  confirm_threshold: 0.6       # 进入状态需要的检测比例（60%）
  exit_threshold: 0.2          # 退出状态需要的检测比例（20%以下）

